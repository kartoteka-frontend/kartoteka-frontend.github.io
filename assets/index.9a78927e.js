import{o as _,c as k,a as p,b as d,w as h,u as m,R as g,d as v,e as I,F as S,f,g as a,h as E,i as P,j as D}from"./vendor.777750b5.js";const b=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const u of i.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function t(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerpolicy&&(i.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?i.credentials="include":r.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=t(r);fetch(r.href,i)}};b();const L={key:0,class:"layout"},O=p("h1",null,"Kartot\xE9ka",-1),V=f("Domov"),R=f("Dokumenty"),$=f("Postup"),N=f("Skupiny"),C=f("Profil"),j={computed:{page(){return this.$route.name}},methods:{logout(){window.localStorage.clear(),this.$router.push({name:"login"})}}},B=Object.assign(j,{setup(e){return(n,t)=>(_(),k(S,null,[n.page!=="login"?(_(),k("div",L,[p("header",null,[O,p("div",{class:"logout",onClick:t[0]||(t[0]=(...o)=>n.logout&&n.logout(...o))}," Odhl\xE1si\u0165 ")]),p("nav",null,[d(m(g),{to:"/"},{default:h(()=>[V]),_:1}),d(m(g),{to:"/document"},{default:h(()=>[R]),_:1}),d(m(g),{to:"/progress"},{default:h(()=>[$]),_:1}),d(m(g),{to:"/group"},{default:h(()=>[N]),_:1}),d(m(g),{to:"/profile"},{default:h(()=>[C]),_:1})])])):v("",!0),d(m(I))],64))}}),F="modulepreload",A={},q="/",l=function(n,t){return!t||t.length===0?n():Promise.all(t.map(o=>{if(o=`${q}${o}`,o in A)return;A[o]=!0;const r=o.endsWith(".css"),i=r?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${i}`))return;const u=document.createElement("link");if(u.rel=r?"stylesheet":F,r||(u.as="script",u.crossOrigin=""),u.href=o,document.head.appendChild(u),r)return new Promise((T,y)=>{u.addEventListener("load",T),u.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>n())};var H=(e,n)=>{const t=e.__vccOpts||e;for(const[o,r]of n)t[o]=r;return t};const K={},W={class:"main home"},U=p("h1",null,"Vitaj v kartot\xE9ke!",-1),z=[U];function G(e,n){return _(),k("div",W,z)}var J=H(K,[["render",G]]);const s="https://kartoteka-backend.herokuapp.com/api",c={login(e,n){return a.post(s+"/login",{email:e,password:n})},register(e,n,t){return a.post(s+"/register",{email:e,password:n,name:t})},verify(e){return a.post(s+"/verify",{token:e})},getProfile(){return a(s+"/profile",{headers:{"Auth-Token":window.localStorage.getItem("Auth-Token")}})},updateProfile(e){return a(s+"/profile",{method:"put",headers:{"Auth-Token":window.localStorage.getItem("Auth-Token")},data:e})},getDocuments(){return a(s+"/document",{headers:{"Auth-Token":window.localStorage.getItem("Auth-Token")}})},getDocument(e){return a(s+"/document/"+e,{headers:{"Auth-Token":window.localStorage.getItem("Auth-Token")}})},getDocumentEdit(e){return a(s+"/document/edit/"+e,{headers:{"Auth-Token":window.localStorage.getItem("Auth-Token")}})},updateDocument(e){return a(s+"/document",{method:"put",headers:{"Auth-Token":window.localStorage.getItem("Auth-Token")},data:e})},createDocument(e){return a(s+"/document",{method:"post",headers:{"Auth-Token":window.localStorage.getItem("Auth-Token")},data:e})},deleteDocument(e){return a(s+"/document/"+e,{method:"delete",headers:{"Auth-Token":window.localStorage.getItem("Auth-Token")}})},getProgress(e){return a(s+"/progress/"+e,{headers:{"Auth-Token":window.localStorage.getItem("Auth-Token")}})},updateProgress(e){return a(s+"/progress",{method:"put",headers:{"Auth-Token":window.localStorage.getItem("Auth-Token")},data:e})},createProgress(e){return a(s+"/progress",{method:"post",headers:{"Auth-Token":window.localStorage.getItem("Auth-Token")},data:e})},getDocumentsProgress(){return a(s+"/document/progress",{headers:{"Auth-Token":window.localStorage.getItem("Auth-Token")}})},getNote(e){return a(s+"/note/"+e,{headers:{"Auth-Token":window.localStorage.getItem("Auth-Token")}})},updateNote(e){return a(s+"/note",{method:"put",headers:{"Auth-Token":window.localStorage.getItem("Auth-Token")},data:e})},createNote(e){return a(s+"/note",{method:"post",headers:{"Auth-Token":window.localStorage.getItem("Auth-Token")},data:e})}},M=E({history:P("/"),routes:[{path:"/",name:"home",component:J,beforeEnter:async(e,n,t)=>{const o=window.localStorage.getItem("Auth-Token");if(!o)t({name:"login"});else try{await c.verify(o),t()}catch{t({name:"login"})}}},{path:"/login",name:"login",component:()=>l(()=>import("./LoginView.e70aa48d.js"),["assets/LoginView.e70aa48d.js","assets/LoginView.f8f4c431.css","assets/ErrorMsg.63b7f0cc.js","assets/ErrorMsg.9d583838.css","assets/vendor.777750b5.js"])},{path:"/profile",name:"profile",component:()=>l(()=>import("./ProfileView.ca15c1b4.js"),["assets/ProfileView.ca15c1b4.js","assets/ProfileView.68845414.css","assets/ErrorMsg.63b7f0cc.js","assets/ErrorMsg.9d583838.css","assets/vendor.777750b5.js"]),beforeEnter:async(e,n,t)=>{const o=window.localStorage.getItem("Auth-Token");if(!o)t({name:"login"});else try{await c.verify(o),t()}catch{t({name:"login"})}}},{path:"/document",name:"document",component:()=>l(()=>import("./DocumentView.41fc3305.js"),["assets/DocumentView.41fc3305.js","assets/DocumentView.73cbdc8b.css","assets/Table.8851261a.js","assets/Table.dc1a18da.css","assets/vendor.777750b5.js"]),beforeEnter:async(e,n,t)=>{const o=window.localStorage.getItem("Auth-Token");if(!o)t({name:"login"});else try{await c.verify(o),t()}catch{t({name:"login"})}},children:[{path:":id",name:"documentId",component:()=>l(()=>import("./DocumentView.41fc3305.js"),["assets/DocumentView.41fc3305.js","assets/DocumentView.73cbdc8b.css","assets/Table.8851261a.js","assets/Table.dc1a18da.css","assets/vendor.777750b5.js"])}]},{path:"/group",name:"group",component:()=>l(()=>import("./GroupView.970f763e.js"),["assets/GroupView.970f763e.js","assets/vendor.777750b5.js"]),beforeEnter:async(e,n,t)=>{const o=window.localStorage.getItem("Auth-Token");if(!o)t({name:"login"});else try{await c.verify(o),t()}catch{t({name:"login"})}}},{path:"/progress",name:"progress",component:()=>l(()=>import("./ProgressView.901f7bb9.js"),["assets/ProgressView.901f7bb9.js","assets/Table.8851261a.js","assets/Table.dc1a18da.css","assets/vendor.777750b5.js"]),beforeEnter:async(e,n,t)=>{const o=window.localStorage.getItem("Auth-Token");if(!o)t({name:"login"});else try{await c.verify(o),t()}catch{t({name:"login"})}}},{path:"/profile",name:"profile",component:()=>l(()=>import("./ProfileView.ca15c1b4.js"),["assets/ProfileView.ca15c1b4.js","assets/ProfileView.68845414.css","assets/ErrorMsg.63b7f0cc.js","assets/ErrorMsg.9d583838.css","assets/vendor.777750b5.js"]),beforeEnter:async(e,n,t)=>{const o=window.localStorage.getItem("Auth-Token");if(!o)t({name:"login"});else try{await c.verify(o),t()}catch{t({name:"login"})}}}]}),w=D(B);w.use(M);w.config.globalProperties.$api=c;w.mount("#app");export{H as _};
