import{E as u}from"./ErrorMsg.63b7f0cc.js";import{r as m,o as _,c as f,a,k as n,v as i,l as d,b as h,p as c,m as w}from"./vendor.777750b5.js";import{_ as v}from"./index.9a78927e.js";const y={name:"Profile",components:{ErrorMsg:u},data(){return{name:"",email:"",password:"",error:""}},methods:{async getProfile(){try{const t=await this.$api.getProfile();this.name=t.data.name,this.email=t.data.email}catch(t){this.error=t.response.data}},async update(){try{let t={name:this.name,email:this.email};this.password&&(t.password=this.password);const e=await this.$api.updateProfile(t);this.$router.push({name:"home"})}catch(t){this.error=t.response.data}}},created(){this.getProfile()}},l=t=>(c("data-v-57403d0b"),t=t(),w(),t),b={class:"main profile"},g=l(()=>a("h1",null,"Profil",-1)),P={class:"inputs"},x=l(()=>a("label",null,"Meno: ",-1)),V=l(()=>a("br",null,null,-1)),E=l(()=>a("label",null,"Email: ",-1)),k=l(()=>a("br",null,null,-1)),M=l(()=>a("label",null,"Nov\xE9 heslo: ",-1));function B(t,e,I,K,r,o){const p=m("ErrorMsg");return _(),f("div",b,[g,a("div",P,[x,n(a("input",{type:"text",id:"name",name:"name","onUpdate:modelValue":e[0]||(e[0]=s=>r.name=s),onKeyup:e[1]||(e[1]=d((...s)=>o.update&&o.update(...s),["enter"]))},null,544),[[i,r.name]]),V,E,n(a("input",{type:"text",id:"email",name:"email","onUpdate:modelValue":e[2]||(e[2]=s=>r.email=s),onKeyup:e[3]||(e[3]=d((...s)=>o.update&&o.update(...s),["enter"]))},null,544),[[i,r.email]]),k,M,n(a("input",{type:"password",id:"password",name:"password","onUpdate:modelValue":e[4]||(e[4]=s=>r.password=s),onKeyup:e[5]||(e[5]=d((...s)=>o.update&&o.update(...s),["enter"]))},null,544),[[i,r.password]])]),a("div",null,[h(p,{message:r.error},null,8,["message"])]),a("button",{class:"updateButton",onClick:e[6]||(e[6]=(...s)=>o.update&&o.update(...s))},"Aktualizova\u0165")])}var C=v(y,[["render",B],["__scopeId","data-v-57403d0b"]]);export{C as default};
