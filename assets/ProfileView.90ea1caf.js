import{E as u}from"./ErrorMsg.e4a4145b.js";import{h as m,o as _,c as h,a,g as n,v as i,p as d,b as w,q as c,s as f}from"./vendor.db9d2b8c.js";import{_ as v}from"./index.31fc017f.js";const y={name:"Profile",components:{ErrorMsg:u},data(){return{name:"",email:"",password:"",error:""}},methods:{async getProfile(){try{const t=await this.$api.getProfile();this.name=t.data.name,this.email=t.data.email}catch(t){this.error=t.response.data}},async update(){try{let t={name:this.name,email:this.email};this.password&&(t.password=this.password);const e=await this.$api.updateProfile(t);window.localStorage.setItem("user",this.name),this.$router.push({name:"home"})}catch(t){this.error=t.response.data}}},created(){this.getProfile()}},l=t=>(c("data-v-5332de41"),t=t(),f(),t),g={class:"main profile"},P=l(()=>a("h1",null,"Profil",-1)),b={class:"inputs"},x=l(()=>a("label",null,"Meno: ",-1)),V=l(()=>a("br",null,null,-1)),E=l(()=>a("label",null,"Email: ",-1)),I=l(()=>a("br",null,null,-1)),M=l(()=>a("label",null,"Nov\xE9 heslo: ",-1));function k(t,e,B,K,r,o){const p=m("ErrorMsg");return _(),h("div",g,[P,a("div",b,[x,n(a("input",{type:"text",id:"name",name:"name","onUpdate:modelValue":e[0]||(e[0]=s=>r.name=s),onKeyup:e[1]||(e[1]=d((...s)=>o.update&&o.update(...s),["enter"]))},null,544),[[i,r.name]]),V,E,n(a("input",{type:"text",id:"email",name:"email","onUpdate:modelValue":e[2]||(e[2]=s=>r.email=s),onKeyup:e[3]||(e[3]=d((...s)=>o.update&&o.update(...s),["enter"]))},null,544),[[i,r.email]]),I,M,n(a("input",{type:"password",id:"password",name:"password","onUpdate:modelValue":e[4]||(e[4]=s=>r.password=s),onKeyup:e[5]||(e[5]=d((...s)=>o.update&&o.update(...s),["enter"]))},null,544),[[i,r.password]])]),a("div",null,[w(p,{message:r.error},null,8,["message"])]),a("button",{class:"updateButton",onClick:e[6]||(e[6]=(...s)=>o.update&&o.update(...s))},"Aktualizova\u0165")])}var C=v(y,[["render",k],["__scopeId","data-v-5332de41"]]);export{C as default};
