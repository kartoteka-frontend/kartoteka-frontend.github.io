import{o as _,c as k,a as p,b as d,w as h,u as m,R as g,d as v,e as E,F as I,f,g as a,h as S,i as P,j as D}from"./vendor.777750b5.js";const b=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function e(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerpolicy&&(i.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?i.credentials="include":r.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=e(r);fetch(r.href,i)}};b();const L={key:0,class:"layout"},O=p("h1",null,"Kartot\xE9ka",-1),V=f("Domov"),R=f("Dokumenty"),$=f("Postup"),N=f("Skupiny"),C=f("Profil"),j={computed:{page(){return this.$route.name}},methods:{logout(){window.localStorage.clear(),this.$router.push({name:"login"})}}},B=Object.assign(j,{setup(t){return(n,e)=>(_(),k(I,null,[n.page!=="login"?(_(),k("div",L,[p("header",null,[O,p("div",{class:"logout",onClick:e[0]||(e[0]=(...o)=>n.logout&&n.logout(...o))}," Odhl\xE1si\u0165 ")]),p("nav",null,[d(m(g),{to:"/"},{default:h(()=>[V]),_:1}),d(m(g),{to:"/document"},{default:h(()=>[R]),_:1}),d(m(g),{to:"/progress"},{default:h(()=>[$]),_:1}),d(m(g),{to:"/group"},{default:h(()=>[N]),_:1}),d(m(g),{to:"/profile"},{default:h(()=>[C]),_:1})])])):v("",!0),d(m(E))],64))}}),F="modulepreload",y={},q="/",l=function(n,e){return!e||e.length===0?n():Promise.all(e.map(o=>{if(o=`${q}${o}`,o in y)return;y[o]=!0;const r=o.endsWith(".css"),i=r?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${i}`))return;const c=document.createElement("link");if(c.rel=r?"stylesheet":F,r||(c.as="script",c.crossOrigin=""),c.href=o,document.head.appendChild(c),r)return new Promise((A,T)=>{c.addEventListener("load",A),c.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>n())};var H=(t,n)=>{const e=t.__vccOpts||t;for(const[o,r]of n)e[o]=r;return e};const K={},W={class:"main home"},U=p("h1",null,"Vitaj v kartot\xE9ke!",-1),z=[U];function G(t,n){return _(),k("div",W,z)}var J=H(K,[["render",G]]);const s="https://kartoteka-backend.herokuapp.com/api",u={login(t,n){return a.post(s+"/login",{email:t,password:n})},register(t,n,e){return a.post(s+"/register",{email:t,password:n,name:e})},verify(t){return a.post(s+"/verify",{token:t})},getProfile(){return a(s+"/profile",{headers:{"Auth-Token":window.localStorage.getItem("Auth-Token")}})},updateProfile(t){return a(s+"/profile",{method:"put",headers:{"Auth-Token":window.localStorage.getItem("Auth-Token")},data:t})},getDocuments(){return a(s+"/document",{headers:{"Auth-Token":window.localStorage.getItem("Auth-Token")}})},getDocument(t){return a(s+"/document/"+t,{headers:{"Auth-Token":window.localStorage.getItem("Auth-Token")}})},getDocumentEdit(t){return a(s+"/document/edit/"+t,{headers:{"Auth-Token":window.localStorage.getItem("Auth-Token")}})},updateDocument(t){return a(s+"/document",{method:"put",headers:{"Auth-Token":window.localStorage.getItem("Auth-Token")},data:t})},createDocument(t){return a(s+"/document",{method:"post",headers:{"Auth-Token":window.localStorage.getItem("Auth-Token")},data:t})},deleteDocument(t){return a(s+"/document/"+t,{method:"delete",headers:{"Auth-Token":window.localStorage.getItem("Auth-Token")}})},getProgress(t){return a(s+"/progress/"+t,{headers:{"Auth-Token":window.localStorage.getItem("Auth-Token")}})},updateProgress(t){return a(s+"/progress",{method:"put",headers:{"Auth-Token":window.localStorage.getItem("Auth-Token")},data:t})},createProgress(t){return a(s+"/progress",{method:"post",headers:{"Auth-Token":window.localStorage.getItem("Auth-Token")},data:t})},getDocumentsProgress(){return a(s+"/document/progress",{headers:{"Auth-Token":window.localStorage.getItem("Auth-Token")}})}},M=S({history:P("/"),routes:[{path:"/",name:"home",component:J,beforeEnter:async(t,n,e)=>{const o=window.localStorage.getItem("Auth-Token");if(!o)e({name:"login"});else try{await u.verify(o),e()}catch{e({name:"login"})}}},{path:"/login",name:"login",component:()=>l(()=>import("./LoginView.64a8851e.js"),["assets/LoginView.64a8851e.js","assets/LoginView.f8f4c431.css","assets/ErrorMsg.69d54a31.js","assets/ErrorMsg.9d583838.css","assets/vendor.777750b5.js"])},{path:"/profile",name:"profile",component:()=>l(()=>import("./ProfileView.dfca7724.js"),["assets/ProfileView.dfca7724.js","assets/ProfileView.68845414.css","assets/ErrorMsg.69d54a31.js","assets/ErrorMsg.9d583838.css","assets/vendor.777750b5.js"]),beforeEnter:async(t,n,e)=>{const o=window.localStorage.getItem("Auth-Token");if(!o)e({name:"login"});else try{await u.verify(o),e()}catch{e({name:"login"})}}},{path:"/document",name:"document",component:()=>l(()=>import("./DocumentView.898c96b6.js"),["assets/DocumentView.898c96b6.js","assets/DocumentView.0b72f2cb.css","assets/Table.6991edbf.js","assets/Table.dc1a18da.css","assets/vendor.777750b5.js"]),beforeEnter:async(t,n,e)=>{const o=window.localStorage.getItem("Auth-Token");if(!o)e({name:"login"});else try{await u.verify(o),e()}catch{e({name:"login"})}},children:[{path:":id",name:"documentId",component:()=>l(()=>import("./DocumentView.898c96b6.js"),["assets/DocumentView.898c96b6.js","assets/DocumentView.0b72f2cb.css","assets/Table.6991edbf.js","assets/Table.dc1a18da.css","assets/vendor.777750b5.js"])}]},{path:"/group",name:"group",component:()=>l(()=>import("./GroupView.8a800487.js"),["assets/GroupView.8a800487.js","assets/vendor.777750b5.js"]),beforeEnter:async(t,n,e)=>{const o=window.localStorage.getItem("Auth-Token");if(!o)e({name:"login"});else try{await u.verify(o),e()}catch{e({name:"login"})}}},{path:"/progress",name:"progress",component:()=>l(()=>import("./ProgressView.9c2388b6.js"),["assets/ProgressView.9c2388b6.js","assets/Table.6991edbf.js","assets/Table.dc1a18da.css","assets/vendor.777750b5.js"]),beforeEnter:async(t,n,e)=>{const o=window.localStorage.getItem("Auth-Token");if(!o)e({name:"login"});else try{await u.verify(o),e()}catch{e({name:"login"})}}},{path:"/profile",name:"profile",component:()=>l(()=>import("./ProfileView.dfca7724.js"),["assets/ProfileView.dfca7724.js","assets/ProfileView.68845414.css","assets/ErrorMsg.69d54a31.js","assets/ErrorMsg.9d583838.css","assets/vendor.777750b5.js"]),beforeEnter:async(t,n,e)=>{const o=window.localStorage.getItem("Auth-Token");if(!o)e({name:"login"});else try{await u.verify(o),e()}catch{e({name:"login"})}}}]}),w=D(B);w.use(M);w.config.globalProperties.$api=u;w.mount("#app");export{H as _};
